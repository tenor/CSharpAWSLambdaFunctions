$(function () { $(".download-btn").click(function () { var o = ace.edit($(".pad-edit-textbox")[0]); $("#codeform input[name=code]").val(o.session.getValue()), $("#codeform").submit() }), $(".newpkg-btn").click(function () { $("#downloadNotes").hide(500), $("#createPackage").show(500), setTimeout(function () { Codepad.all() }, 500) }), $(".download-btn:visible").length > 0 && Codepad.all(), $("#download-link").length > 0 && setTimeout(function () { window.location = $("#download-link").val() }, 1500) });